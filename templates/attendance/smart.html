{% extends 'base/base.html' %}

{% block content %}
<h2 class="text-xl font-semibold mb-6">Smart Attendance Insights</h2>

<div class="grid md:grid-cols-2 gap-6">
    {% for item in data %}
        <div class="bg-gray-800 p-5 rounded border
            {% if item.warning %}
                border-red-500
            {% else %}
                border-gray-700
            {% endif %}
        ">
            <h3 class="font-semibold mb-2">
                {{ item.course.name }}
            </h3>

            <p class="text-sm text-gray-400">
                Attendance: <strong>{{ item.summary.percentage }}%</strong>
            </p>

            <p class="text-sm mt-1">
                Attended: {{ item.summary.attended }}
                | Planned: {{ item.summary.planned }}
            </p>

            <p class="mt-3 text-sm">
                You can miss
                <strong class="text-blue-400">
                    {{ item.missable }}
                </strong>
                more class{{ item.missable|pluralize }}
                safely.
            </p>

            {% if item.warning %}
                <p class="mt-2 text-sm text-red-400">
                    âš  Attendance below 75%
                </p>
            {% endif %}
        </div>
    {% endfor %}
</div>
{% endblock %}
